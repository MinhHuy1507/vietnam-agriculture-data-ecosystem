# Vietnam Agriculture Data Ecosystem

<div align="center">

![Python](https://img.shields.io/badge/Python-3.9%2B-blue?style=for-the-badge&logo=python&logoColor=white)
![Apache Airflow](https://img.shields.io/badge/Apache%20Airflow-017CEE?style=for-the-badge&logo=Apache%20Airflow&logoColor=white)
![Apache Spark](https://img.shields.io/badge/Apache%20Spark-E25A1C?style=for-the-badge&logo=apachespark&logoColor=white)
![dbt](https://img.shields.io/badge/dbt-FF694B?style=for-the-badge&logo=dbt&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white)

**An end-to-end Data Engineering solution for Vietnam's Agricultural sector.**

[Overview](#overview) â€¢ [Architecture](#architecture) â€¢ [Components](#components) â€¢ [Tech Stack](#technology-stack) â€¢ [Author](#author)

</div>

---

## ðŸ”— Component Repositories

This ecosystem consists of 3 main repositories:

| Component | Repository Link | Description |
| :--- | :--- | :--- |
| **1. Data Lake** | [**vietnam-agriculture-datalake-public**](https://github.com/MinhHuy1507/vietnam-agriculture-datalake-public) | Ingestion, Raw Storage, Spark Processing |
| **2. Data Warehouse** | [**vietnam-agriculture-data-warehouse-public**](https://github.com/MinhHuy1507/vietnam-agriculture-data-warehouse-public) | dbt Transformations, Medallion Architecture |
| **3. Application** | [**vietnam-agriculture-app-public**](https://github.com/MinhHuy1507/vietnam-agriculture-app-public) | FastAPI Backend, Streamlit Dashboard |

---

## ðŸ“– Overview

The **Vietnam Agriculture Data Ecosystem** is a comprehensive project designed to ingest, process, store, and visualize agricultural data for Vietnam. It integrates multiple data sourcesâ€”including government statistics, climate data from NASA, and geospatial data from Google Earth Engineâ€”to provide actionable insights into crop production, yield, and environmental factors.

This ecosystem is composed of three major decoupled components, each handling a specific stage of the data lifecycle:
1.  **Data Lake**: Ingestion, raw storage, and initial enrichment.
2.  **Data Warehouse**: Transformation, cleaning, and modeling (Medallion Architecture).
3.  **Application**: API serving and interactive dashboard for end-users.

## ðŸ— Architecture

The system follows a modern data engineering pipeline:

```mermaid
graph LR
subgraph Sources
  NSO[GSO Statistics]
  NASA[NASA POWER]
  GEE[Google Earth Engine]
end

subgraph Data_Lake["Data Lake"]
  Ingest[Ingestion & Crawling]
  Raw[Raw Storage (MinIO)]
  Spark[Spark Processing]
end

subgraph Data_Warehouse["Data Warehouse"]
  Bronze[Bronze Layer]
  Silver[Silver Layer]
  Gold[Gold Layer]
  dbt[dbt Transformations]
end

subgraph Application["Application"]
  API[FastAPI Backend]
  Dash[Streamlit Dashboard]
end

NSO --> Ingest
NASA --> Ingest
GEE --> Ingest
Ingest --> Raw
Raw --> Spark
Spark --> Bronze
Bronze --> dbt
dbt --> Silver
Silver --> dbt
dbt --> Gold
Gold --> API
API --> Dash
```

## ðŸ§© Components

### 1. Vietnam Agriculture Data Lake
The foundation of the ecosystem. It builds a reproducible data lake by ingesting and enriching raw data.

*   **Key Features:**
    *   **Ingestion**: Crawls NSO tables (V06xx) and converts HTML to structured CSV.
    *   **Enrichment**: Adds geospatial data (Google Earth Engine) and climate indicators (NASA POWER).
    *   **Orchestration**: Managed by **Apache Airflow**.
    *   **Processing**: Scalable data processing with **Apache Spark**.
    *   **Storage**: **MinIO** (S3-compatible) for raw and processed data.

### 2. Vietnam Agriculture Data Warehouse
Transforms the data from the Data Lake into a structured, analytics-ready format using the **Medallion Architecture**.

*   **Key Features:**
    *   **Bronze Layer**: Raw data ingestion with minimal transformation.
    *   **Silver Layer**: Cleaned, deduplicated, and standardized data.
    *   **Gold Layer**: Star schema optimized for analytics (Fact/Dimension tables).
    *   **Transformation**: Powered by **dbt** (data build tool).
    *   **Quality**: Data type casting, null handling, and precision control.

### 3. Vietnam Agriculture Application
The user-facing layer that visualizes the insights generated by the pipeline.

*   **Key Features:**
    *   **Backend**: High-performance REST API built with **FastAPI** and **SQLModel**.
    *   **Frontend**: Interactive dashboard built with **Streamlit**.
    *   **Visualization**: 2D charts (Plotly) and 3D geospatial maps (PyDeck/deck.gl).
    *   **Deployment**: Containerized with Docker; hosted on Render and Streamlit Cloud.

## ðŸ›  Technology Stack

| Domain | Technologies |
| :--- | :--- |
| **Orchestration** | Apache Airflow (3.x) |
| **Processing** | Apache Spark 4.0, Pandas, Python 3.12 |
| **Transformation** | dbt (data build tool), SQL |
| **Storage & DB** | MinIO (S3), PostgreSQL |
| **Ingestion** | Selenium, BeautifulSoup |
| **Backend API** | FastAPI, SQLModel, Pydantic |
| **Frontend** | Streamlit, Plotly, PyDeck |
| **Infrastructure** | Docker, Docker Compose |

## ðŸš€ Getting Started

To explore the entire ecosystem, please visit the individual repositories linked above. Each repository contains detailed instructions on how to run that specific component locally using Docker Compose.

**Quick Links:**
*   [Data Lake Setup Guide](https://github.com/MinhHuy1507/vietnam-agriculture-datalake-public/blob/master/docs/OPERATIONS.md)
*   [Data Warehouse Getting Started](https://github.com/MinhHuy1507/vietnam-agriculture-data-warehouse-public#getting-started)
*   [Live Application Demo](https://vietnam-agriculture-app-public.streamlit.app/)
*   [Application Set Up Locally Guide](https://github.com/MinhHuy1507/vietnam-agriculture-app-public/blob/master/docs/LOCAL_SETUP.md)

## ðŸ“§ Author

**MinhHuy1507**

*   **GitHub:** [MinhHuy1507](https://github.com/MinhHuy1507/)
*   **Email:** ngominhhuy150705@gmail.com

## ðŸ“„ License

This project is licensed under the **Mozilla Public License 2.0**. See the [LICENSE](LICENSE) file for details.
